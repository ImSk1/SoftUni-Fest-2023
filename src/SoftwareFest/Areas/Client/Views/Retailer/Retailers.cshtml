@using SoftwareFest.Models.Enums;
@using SoftwareFest.Pagination.Enums;
@model SoftwareFest.Pagination.Page<SoftwareFest.ViewModels.RetailerViewModel>
@{
    var prevDisabled = !Model.HasPreviousPage ? "disable" : "";
    var nextDisabled = !Model.HasNextPage ? "disable" : "";
    var name = ViewBag.Name;
}

<div class="container-all">
    <div class="products">
        <form class="formichka2" method="post" asp-action="Retailers" asp-route-name="@name" asp-controller="Retailer" asp-area="Client">
            <input name="name" value="@name" type="text" />
            <input type="submit" value="Search" />
        </form>
        @foreach (var retailer in Model)
        {
            <div class="main-class">
                <div class="single-item">
                    <h1>@retailer.BusinessName</h1>
                    @foreach (var item in retailer.Products.Take(3))
                    {
                        <p>@item.ImageUrl</p>
                        <p>@item.Name</p>
                        <p>@item.Price</p>
                    }
                </div>
            </div>
        }
        <div class="next-btn">
            <a asp-area="Client" asp-action="All" asp-controller="Product" asp-route-name="@name" asp-route-pageNumber="@(Model.CurrentPage - 1)" class="genric-btn @prevDisabled">Previous</a>
            <a asp-area="Client" asp-action="All" asp-controller="Product" asp-route-name="@name" asp-route-pageNumber="@(Model.CurrentPage + 1)" class="genric-btn @nextDisabled">Next</a>
        </div>
    </div>
</div>